
#region Description
/**
 * Title: Texploit
 * Description: Entry for the Moosader Gamedev Compo #7: "Text-based game"
 */
#endregion

using Microsoft.Xna.Framework;
using Microsoft.Xna.Framework.Input;

namespace Texploit
{
    /// <summary>
    /// Tutorial specific game state handling for the main game class
    /// </summary>
    public partial class TexploitGame : Microsoft.Xna.Framework.Game
    {
        #region Fields

        #endregion

        #region Private Methods

        private void TutorialState_Initialize()
        {
            if (this.state != GameState.TUTORIAL_STATE) return;
            this.DrawInitialTutorialScreen();
        }

        private void DrawInitialTutorialScreen()
        {
            this.DrawBorder(1, 1, COLUMNS_MAX - 2, ROWS_MAX - 1);
            this.DrawBorder(3, 2, COLUMNS_MAX - 6, ROWS_MAX - 3);
            Rectangle bounds = new Rectangle(5, 4, COLUMNS_MAX - 10, ROWS_MAX - 7);
            this.SetCursorPosition(0, 0);
            this.Write2(bounds, "Introduction\n\n", true);
            this.Write2(bounds,
                "Welcome! Texploit is a text-based virtual 'hacking' simulator (ala. uplink, slave \nhack, and others). ", false);
            this.Write2(bounds,
                "Texploit tries to provide a more realistic experience by providing problems that can be solved through real programming code, in game! ", false);
            this.Write2(bounds,
                "But, please keep in mind - this game has been simplified because of development time constraints.\n\n", false);
            this.Write2(bounds,
                "This is an entry for Moosader's community gamedev competition #7 - 'Text-based game'. Visit Moosader.com for more information.\n\n\n\n", false);
            this.Write2(bounds,
                "Tutorial\n\n", false);
            this.Write2(bounds,
                "The aim of the game is to 'hack' your targets. In order to do that, you will need to obtain information about them - and exploit it, or should I say, Texploit it, ------! ..Yeah D:\n\n", false);
            this.Write2(bounds,
                "The first thing you'll want to do is ask Case for some information on your target. \nAfter that, you can log on to your computer and 'hack' away.\n\n", false);
            this.Write2(bounds, "Tip: If you need help with the computer, you can type 'help' to display some useful \ninformation.\n\n\n\n", false);
            this.Write2(bounds, "Well, that's all you need to know for now. Press enter to return to the menu!", false);
        }

        private void TutorialState_Update(KeyboardState key_state)
        {
            if (this.state != GameState.TUTORIAL_STATE) return;
            if (key_state.IsKeyDown(Keys.Enter) && !this.key_state_prev.IsKeyDown(Keys.Enter))
                this.TutorialState_SetNextState(GameState.MENU_MAIN_STATE);
            if (key_state.IsKeyDown(Keys.Back) && !this.key_state_prev.IsKeyDown(Keys.Back))
                this.TutorialState_SetNextState(GameState.MENU_MAIN_STATE);
        }

        private void TutorialState_Draw()
        {
            if (this.state != GameState.TUTORIAL_STATE) return;
        }

        private void TutorialState_SetNextState(GameState state)
        {
            this.state = state;
            this.TutorialState_Destroy();
            this.InitializeUI();
        }

        private void TutorialState_Destroy()
        {
            this.Clear(' ');
        }

        #endregion
    }
}
