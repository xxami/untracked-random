var P1=0;var P2=1;var X=P1;var O=P2;var BLANK=-1;var turn=null;var player=null;var board=[BLANK,BLANK,BLANK,BLANK,BLANK,BLANK,BLANK,BLANK,BLANK];var board_ids=["t1","t2","t3","t4","t5","t6","t7","t8","t9"];var win_vals=[7,56,448,73,146,292,273,84];function assign_player(){if(1){player=P1}else{player=P2}}function assign_turn(){if(1){turn=P1}else{turn=P2}}function change_turn(){if(player==P1){turn=P2}else{turn=P1}}function game_won(){var a=function(e){var d=0;for(var c=0;c<board.length;c++){if(board[c]==e){d+=Math.pow(2,c)}}for(var c=0;c<win_vals.length;c++){if((win_vals[c]&d)===win_vals[c]){return win_vals[c]}}return 0};var b=a(turn);if(b){console.log("game won by",(turn==P1)?"X":"O");switch(b){case 7:console.log("strike: 1-2-3");break;case 56:console.log("strike: 4-5-6");break;case 448:console.log("strike: 7-8-9");break;case 73:console.log("strike: 1-4-7");break;case 146:console.log("strike: 2-5-8");break;case 292:console.log("strike: 3-6-9");break;case 273:console.log("strike: 1-5-9");break;case 84:console.log("strike: 3-5-7");break}return true}return false}function board_click(a){console.log("clicked",a);if(player!=turn){return}if(board[a-1]==BLANK){board_disable();board[a-1]=player;document.getElementById("b"+board_ids[a-1][1]).className=((player==P1)?"tilex":"tileo");if(game_won()){return}change_turn()}}function change_team(){if(player==P1){player=P2}else{player=P1}console.log("changed team to "+player+" still turn "+turn);if(player!=turn){board_disable()}else{board_enable()}}function board_enable(){console.log("board_enabled");for(var a=0;a<board_ids.length;a++){if(board[a]===BLANK){var b=document.getElementById(board_ids[a]);if(turn==P2){b.className="o"}else{b.className="x"}}}}function board_disable(){console.log("board disabled");for(var a=0;a<board_ids.length;a++){var b=document.getElementById(board_ids[a]);b.className="disabled"}}function board_clear(){for(var a=0;a<board_ids.length;a++){var b=document.getElementById(board_ids[a]);b.value=""}}function board_setup(){board_clear();assign_player();assign_turn();if(player!=turn){board_disable()}else{board_enable()}}board_setup();